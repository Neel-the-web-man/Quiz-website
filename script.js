let quesDataArr = [{
    ques: "Who formulated the theory of general relativity?",
    optionA: "A) Isaac Newton",
    optionB: "B) Albert Einstein",
    optionC: "C) Stephen Hawking",
    optionD: "D) Galileo Galilei",
    answer: "B) Albert Einstein"
},
{
    ques: "Which element has the chemical symbol Pb?",
    optionA: "A) Lead",
    optionB: "B) Lithium",
    optionC: "C) Platinum",
    optionD: "D) Polonium",
    answer: "A) Lead"
},
{
    ques: "Which novel opens with the line \"Call me Ishmael\"?",
    optionA: "A) Moby Dick by Herman Melville",
    optionB: "B) Pride and Prejudice by Jane Austen",
    optionC: "C) To Kill a Mockingbird by Harper Lee",
    optionD: "D) The Great Gatsby by F. Scott Fitzgerald",
    answer: "A) Moby Dick by Herman Melville"
},
{
    ques: "In which year did World War I begin?",
    optionA: "A) 1914",
    optionB: "B) 1916",
    optionC: "C) 1918",
    optionD: "D) 1920",
    answer: "A) 1914"
},
{
    ques: "Who was the first female Prime Minister of the United Kingdom?",
    optionA: "A) Margaret Thatcher",
    optionB: "B) Angela Merkel",
    optionC: "C) Theresa May",
    optionD: "D) Indira Gandhi",
    answer: "A) Margaret Thatcher"
},
{
    ques: "Which chemical element is the lightest?",
    optionA: "A) Helium",
    optionB: "B) Hydrogen",
    optionC: "C) Oxygen",
    optionD: "D) Nitrogen",
    answer: "B) Hydrogen"
},
{
    ques: "Which artist painted \"The Persistence of Memory\"?",
    optionA: "A) Salvador Dalí",
    optionB: "B) Pablo Picasso",
    optionC: "C) Vincent van Gogh",
    optionD: "D) Leonardo da Vinci",
    answer: "A) Salvador Dalí"
},
{
    ques: "Who wrote the novel \"One Hundred Years of Solitude\"?",
    optionA: "A) Gabriel García Márquez",
    optionB: "B) Jorge Luis Borges",
    optionC: "C) Pablo Neruda",
    optionD: "D) Isabel Allende",
    answer: "A) Gabriel García Márquez"
},
{
    ques: "What is the smallest planet in our solar system?",
    optionA: "A) Mercury",
    optionB: "B) Mars",
    optionC: "C) Pluto",
    optionD: "D) Venus",
    answer: "A) Mercury"
},
{
    ques: "Which composer wrote \"The Nutcracker\" ballet?",
    optionA: "A) Pyotr Ilyich Tchaikovsky",
    optionB: "B) Johann Sebastian Bach",
    optionC: "C) Ludwig van Beethoven",
    optionD: "D) Wolfgang Amadeus Mozart",
    answer: "A) Pyotr Ilyich Tchaikovsky"
},
{
    ques: "Who painted \"Starry Night\"?",
    optionA: "A) Vincent van Gogh",
    optionB: "B) Claude Monet",
    optionC: "C) Edvard Munch",
    optionD: "D) Johannes Vermeer",
    answer: "A) Vincent van Gogh"
},
{
    ques: "Which mountain is the highest in Africa?",
    optionA: "A) Mount Everest",
    optionB: "B) Kilimanjaro",
    optionC: "C) Mont Blanc",
    optionD: "D) Mount McKinley",
    answer: "B) Kilimanjaro"
},
{
    ques: "Which English king was executed in 1649?",
    optionA: "A) Charles I",
    optionB: "B) Henry VIII",
    optionC: "C) Richard III",
    optionD: "D) James II",
    answer: "A) Charles I"
},
{
    ques: "What is the capital city of Canada?",
    optionA: "A) Toronto",
    optionB: "B) Montreal",
    optionC: "C) Ottawa",
    optionD: "D) Vancouver",
    answer: "C) Ottawa"
},
{
    ques: "Who won the Nobel Prize in Physics in 1903, along with Marie Curie and Henri Becquerel?",
    optionA: "A) Albert Einstein",
    optionB: "B) Niels Bohr",
    optionC: "C) Max Planck",
    optionD: "D) Pierre Curie",
    answer: "D) Pierre Curie"
},
{
    ques: "Which river is the longest in the world?",
    optionA: "A) Amazon River",
    optionB: "B) Nile River",
    optionC: "C) Yangtze River",
    optionD: "D) Mississippi River",
    answer: "B) Nile River"
},
{
    ques: "Who invented the World Wide Web in 1989?",
    optionA: "A) Tim Berners-Lee",
    optionB: "B) Bill Gates",
    optionC: "C) Steve Jobs",
    optionD: "D) Jeff Bezos",
    answer: "A) Tim Berners-Lee"
},
{
    ques: "What is the largest moon in the Solar System?",
    optionA: "A) Europa",
    optionB: "B) Titan",
    optionC: "C) Ganymede",
    optionD: "D) Io",
    answer: "C) Ganymede"
},
{
    ques: "Which famous scientist proposed the three laws of motion?",
    optionA: "A) Isaac Newton",
    optionB: "B) Galileo Galilei",
    optionC: "C) Albert Einstein",
    optionD: "D) Nikola Tesla",
    answer: "A) Isaac Newton"
},
{
    ques: "Which city hosted the 2008 Summer Olympics?",
    optionA: "A) Beijing",
    optionB: "B) Athens",
    optionC: "C) Sydney",
    optionD: "D) London",
    answer: "A) Beijing"
},
{
    ques: "Who wrote the novel \"1984\"?",
    optionA: "A) George Orwell",
    optionB: "B) Aldous Huxley",
    optionC: "C) Franz Kafka",
    optionD: "D) J.R.R. Tolkien",
    answer: "A) George Orwell"
},
{
    ques: "Which element has the atomic number 79?",
    optionA: "A) Silver",
    optionB: "B) Gold",
    optionC: "C) Platinum",
    optionD: "D) Mercury",
    answer: "B) Gold"
},
{
    ques: "Who was the first American woman in space?",
    optionA: "A) Sally Ride",
    optionB: "B) Valentina Tereshkova",
    optionC: "C) Mae Jemison",
    optionD: "D) Christa McAuliffe",
    answer: "A) Sally Ride"
},
{
    ques: "Which planet is closest to the Sun?",
    optionA: "A) Venus",
    optionB: "B) Earth",
    optionC: "C) Mercury",
    optionD: "D) Mars",
    answer: "C) Mercury"
},
{
    ques: "Who composed the \"Moonlight Sonata\"?",
    optionA: "A) Ludwig van Beethoven",
    optionB: "B) Wolfgang Amadeus Mozart",
    optionC: "C) Johann Sebastian Bach",
    optionD: "D) Frédéric Chopin",
    answer: "A) Ludwig van Beethoven"
},
{
    ques: "In Norse mythology, who is the god of thunder?",
    optionA: "A) Thor",
    optionB: "B) Loki",
    optionC: "C) Odin",
    optionD: "D) Freyja",
    answer: "A) Thor"
},
{
    ques: "Which country is the largest producer of coffee in the world?",
    optionA: "A) Brazil",
    optionB: "B) Colombia",
    optionC: "C) Ethiopia",
    optionD: "D) Vietnam",
    answer: "A) Brazil"
},
{
    ques: "Who discovered penicillin in 1928?",
    optionA: "A) Alexander Fleming",
    optionB: "B) Louis Pasteur",
    optionC: "C) Jonas Salk",
    optionD: "D) Robert Koch",
    answer: "A) Alexander Fleming"
},
{
    ques: "Which composer's last symphony is known as the \"Unfinished Symphony\"?",
    optionA: "A) Franz Schubert",
    optionB: "B) Johannes Brahms",
    optionC: "C) Gustav Mahler",
    optionD: "D) Ludwig van Beethoven",
    answer: "A) Franz Schubert"
}]
let indexArr = [];
let quesArr = [];
let timeLeft;
let interval;
let k = 0, points = 0;
function restart() {
    indexArr=[];
    quesArr=[];
    k=0;points=0;
    console.log("Ho");
    document.querySelector(".questions").innerHTML="";
    document.querySelector(".questions").classList.add("d-n");
    let strbtn=document.querySelector(".start-btn");
    strbtn.classList.remove("d-n");
    let replay=document.querySelector(".replay");
    replay.classList.add("d-n");
    let index = Math.floor(Math.random() * 29);
    indexArr.push(index);
    let flag;
    for (; ;) {
        let index = Math.floor(Math.random() * 29);
        flag = 0;
        for (let j = 0; j < indexArr.length; j++) {
            if (indexArr[j] == index) {
                flag = 1;
                break;
            }
        }
        if (!flag) {
            indexArr.push(index);
        } else {
            flag = 0;
        }
        if (indexArr.length == 15) {
            break;
        }
    }
    for (let i = 0; i < 15; i++) {
        quesArr[i] = quesDataArr[indexArr[i]];
    }
}
restart();
function createNextBtn(index) {
    let quesCont = document.querySelectorAll(".question-cont");
    let div = document.createElement("div");
    quesCont[index].append(div);
    div.innerHTML = `<button onclick="nextQues()" class="nextQuesBtn">↓Next Question↓ </button>`
}
function setTimer(index) {
    timeLeft = 15;
    let nodelist = document.querySelectorAll(".time")
    let timeSpan = nodelist[index];
    timeSpan.innerHTML = timeLeft;
    interval = setInterval(() => {
        timeSpan.innerHTML = --timeLeft;
        if (timeLeft == 0 && k != 15) {
            createNextBtn(index)
            clearInterval(interval);
        } else if(k==15){
            clearInterval(interval);
            let replay = document.querySelector(".replay");
            replay.classList.remove("d-n");
        }
        if (timeLeft == 0) {
            let nodelist = document.querySelectorAll(`.opclass${k - 1}`);
            for (let i = 0; i < 4; i++) {
                if (quesArr[k - 1].answer == nodelist[i].innerHTML) {
                    nodelist[i].classList.add("corr-ans");
                }
            }
        }
    }, 1000)
}
function nextQues() {
    let nodelist = document.querySelectorAll(".nextQuesBtn");
    nodelist[k - 1].classList.add("d-n");
    if (k < 15) {
        quiz();
        window.scrollBy(0, 580);
    }
}
function checkOption(e) {
    let nodelist;
    nodelist = document.querySelectorAll(`.opclass${k - 1}`);
    if (timeLeft != 0) {
        if (e.innerHTML == quesArr[k - 1].answer) {
            e.classList.add("corr-ans");
                points += 20;
                let scorelist = document.querySelectorAll('.score');
                for (let i = 0; i < scorelist.length; i++) {
                    scorelist[i].innerHTML = `${points}/300&nbsp;`;
                }
        } else {
            e.classList.add("wrong-ans");
            for (let i = 0; i < 4; i++) {
                if (quesArr[k - 1].answer == nodelist[i].innerHTML) {
                    nodelist[i].classList.add("corr-ans");
                }
            }
        }
        for (let i = 0; i < 4; i++) {
            nodelist[i].disabled=true;
        }
        if(k!=15){
            createNextBtn(k - 1);
        }else{
            let replay = document.querySelector(".replay");
            replay.classList.remove("d-n");
        }
        clearInterval(interval);
    }
}
function quiz() {
    let questionsDiv = document.querySelector(".questions");
    let div = document.createElement("div");
    div.classList.add("question-cont");
    questionsDiv.append(div);
    div.innerHTML = `
    <div class="ques-sec">
                    <div class="ques-num-cont">
                        <div class="ques-num"></div>
                        <div>${k + 1} OF 15</div>
                    </div>
                    <div class="timer">
                        <div>Time's Up in:</div>
                        <div>
                            <span class="time"></span>
                            <span>Seconds</span>
                        </div>
                    </div>
                    <div class="score-cont">
                        <div class="score">${points}/300&nbsp;</div>
                        <div>
                            POINTS
                        </div>
                    </div>
                </div>
                <div class="question">${quesArr[k].ques}</div>
                <div class="options">
                    <div class="option-cont">
                        <button onclick="checkOption(this)" value="A" class="option opclass${k}">${quesArr[k].optionA}</button>
                        <button onclick="checkOption(this)" value="B" class="option opclass${k}">${quesArr[k].optionB}</button>
                    </div>
                    <div class="option-cont">
                        <button onclick="checkOption(this)" value="C" class="option opclass${k}">${quesArr[k].optionC}</button>
                        <button onclick="checkOption(this)" value="D" class="option opclass${k}">${quesArr[k].optionD}</button>
                    </div>
                </div>`
    setTimer(k)
    k++;
}
function startBtn() {
    document.querySelector(".start-btn").classList.add("d-n");
    document.querySelector(".questions").classList.remove("d-n");

    quiz();
}